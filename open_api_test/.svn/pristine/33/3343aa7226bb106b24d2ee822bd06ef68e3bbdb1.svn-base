import com.xy.api.demo.generateaccount.DataTypeEnum;
import com.xy.api.demo.generateaccount.GenIDUtil;
import lombok.extern.slf4j.Slf4j;
import org.junit.Test;
import org.springframework.util.StringUtils;

/**
 * Copyright (C), 2006-2019, xy
 * FileName: GenerateAccount.java
 * 生成账号code
 *
 * @author maisenlin@mfexcel.com
 * @version 1.0.0
 * @Date 2019-10-16 10:03
 **/

@Slf4j
public class GenerateAccount {


    public String getXyCode(DataTypeEnum dataType) {
        GenIDUtil genIDUtil = new GenIDUtil();
        if (StringUtils.isEmpty(dataType)) {
            log.error("dataType is null");
            return "";
        }
        if (genIDUtil == null) {
            log.error("genIDUtil is null,please use Autowired XyCodeUtil");
            return "";
        }
        return dataType.getType() + genIDUtil.nextId();
    }

    @Test
    public void generateAccount(){
        System.out.println(getXyCode(DataTypeEnum.AG));
    }
}
